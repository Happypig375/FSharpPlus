<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Reader<'R,'T>
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="author" content="Gusty">

    <link rel="stylesheet" id="theme_link" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/4.3.1/materia/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <!-- <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script> -->

    <link type="text/css" rel="stylesheet" href="/FSharpPlus/content/navbar-fixed-left.css" />
    <link type="text/css" rel="stylesheet" href="/FSharpPlus/content/fsdocs-default.css" />
    <link type="text/css" rel="stylesheet" href="/FSharpPlus/content/fsdocs-custom.css" />
    <script type="text/javascript" src="/FSharpPlus/content/fsdocs-tips.js"></script>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!-- BEGIN SEARCH BOX: this adds support for the search box -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/JavaScript-autoComplete/1.0.4/auto-complete.css" />
    <!-- END SEARCH BOX: this adds support for the search box -->

</head>

<body>
    <nav class="navbar navbar-expand-md navbar-light bg-secondary fixed-left" id="fsdocs-menu">
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarsExampleDefault">
            <a href="https://github.com/fsprojects/FSharpPlus/"><img id="fsdocs-logo" src="/FSharpPlus/img/logo.png" /></a>
            <!-- BEGIN SEARCH BOX: this adds support for the search box -->
            <div id="header">
                <div class="searchbox" id="fsdocs-searchbox">
                    <label for="search-by">
                        <i class="fas fa-search"></i>
                    </label>
                    <input data-search-input="" id="search-by" type="search" placeholder="Search..." />
                    <span data-search-clear="">
                        <i class="fas fa-times"></i>
                    </span>
                </div>
            </div>

            <!-- END SEARCH BOX: this adds support for the search box -->
            <ul class="navbar-nav">
                <li class="nav-header">Links</li>
                <li class="nav-item" id="fsdocs-license-link"><a class="nav-link" href="https://github.com/fsprojects/FSharpPlus.git/blob/master/LICENSE.md">License (Apache 2.0)</a></li>
                <li class="nav-item" id="fsdocs-release-notes-link"><a class="nav-link" href="https://github.com/fsprojects/FSharpPlus.git/blob/master/RELEASE_NOTES.md">Release Notes</a></li>
                <li class="nav-item" id="fsdocs-repository-link"><a class="nav-link" href="https://github.com/fsprojects/FSharpPlus.git/">Source Repository</a></li>

                <!-- Do not use 'fsdocs-list-of-documents' which currently cannot be ordered, and dumps all files in docsrc/ -->
                <li class="nav-header" style="padding-top: 10px">Documentation</li>
                <li class="nav-item"><a class="nav-link" href="/FSharpPlus//tutorial.html">Tutorial</a></li>
                <li class="nav-item"><a class="nav-link" href="/FSharpPlus//extensions.html">Extensions</a></li>
                <li class="nav-item"><a class="nav-link" href="/FSharpPlus//generic-doc.html">Functions &amp; Operators</a></li>
                <li class="nav-item"><a class="nav-link" href="/FSharpPlus//types.html">Data Types</a></li>
                <li class="nav-item"><a class="nav-link" href="/FSharpPlus//abstractions.html">Abstractions</a></li>
                <li class="nav-item"><a class="nav-link" href="/FSharpPlus//computation-expressions.html">Computation Expressions</a></li>
                <li class="nav-item"><a class="nav-link" href="/FSharpPlus//lens.html">Lens</a></li>
                <li class="nav-item"><a class="nav-link" href="/FSharpPlus//parsing.html">Parsing</a></li>
                <li class="nav-item"><a class="nav-link" href="/FSharpPlus//numerics.html">Numerics</a></li>

                <li class="nav-header">
  API Reference
</li>             
<li class="nav-item">
  <a class="nav-link" href="/FSharpPlus/reference/index.html">
    All Namespaces
  </a>
</li>
            </ul>
        </div>
    </nav>
    <div class="container">
        <div class="masthead">
            <h3 class="muted"><a href="https://github.com/fsprojects/FSharpPlus/">FSharpPlus</a></h3>
        </div>
        <hr />
        <div class="container" id="fsdocs-content">
            <h1><a name="Reader-R-T" class="anchor" href="#Reader-R-T">Reader<'R,'T></a></h1>
<p>The Reader monad is good for computations which read values from a shared environment.</p>
<h2><a name="Related-Types" class="anchor" href="#Related-Types">Related Types</a></h2>
<ul>
<li><a href="type-state.html">State</a>: Similar, but it allows you to modify the environment.</li>
</ul>
<h2><a name="Examples" class="anchor" href="#Examples">Examples</a></h2>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="pp">#r</span> <span class="s">@&quot;../../src/FSharpPlus/bin/Release/net45/FSharpPlus.dll&quot;</span>
</code></pre>
<p>One usage of the Reader monad is an alternative to dependency injection or currying
in order to pass around dependencies. The below code comes from <a href="https://www.youtube.com/watch?v=pxJCHJgG8ws">F# Online - Josef Starýchfojtů - FSharpPlus - Advanced FP concepts in F#</a>. You can find the presenter on github as <a href="https://github.com/starychfojtu">@starychfojtu</a>.</p>
<p>Why would you want to do this style?</p>
<ul>
<li>When you want to pass around a single environment instead of using dependency injection.</li>
</ul>
<p>Why wouldn't you want to use this style?</p>
<ul>
<li>The downside of this style is that it supposes that your environment is relatively immutable. If you have different lifetimes for different implementation classes dependency injection frameworks can be easier to use.</li>
</ul>
<p>Note:</p>
<ul>
<li>The # in <code>(env : #IUserRepository)</code> is a <a href="https://docs.microsoft.com/en-us/dotnet/fsharp/language-reference/flexible-types">flexible type annotation</a>.</li>
</ul>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="id">System</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs2', 2)" onmouseover="showTip(event, 'fs2', 2)" class="id">FSharpPlus</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs2', 3)" onmouseover="showTip(event, 'fs2', 3)" class="id">FSharpPlus</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs3', 4)" onmouseover="showTip(event, 'fs3', 4)" class="id">Data</span>

<span class="k">type</span> <span onmouseout="hideTip(event, 'fs4', 5)" onmouseover="showTip(event, 'fs4', 5)" class="if">IUserRepository</span> <span class="o">=</span>
    <span class="k">abstract</span> <span class="fn">GetUser</span> <span class="pn">:</span> <span class="id">email</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs5', 6)" onmouseover="showTip(event, 'fs5', 6)" class="rt">string</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs5', 7)" onmouseover="showTip(event, 'fs5', 7)" class="rt">string</span>

<span class="k">type</span> <span onmouseout="hideTip(event, 'fs6', 8)" onmouseover="showTip(event, 'fs6', 8)" class="if">IShoppingListRepository</span> <span class="o">=</span>
    <span class="k">abstract</span> <span class="fn">AddToCart</span> <span class="pn">:</span> <span class="id">shoppingList</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs5', 9)" onmouseover="showTip(event, 'fs5', 9)" class="rt">string</span> <span onmouseout="hideTip(event, 'fs7', 10)" onmouseover="showTip(event, 'fs7', 10)" class="rt">list</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs5', 11)" onmouseover="showTip(event, 'fs5', 11)" class="rt">string</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs8', 12)" onmouseover="showTip(event, 'fs8', 12)" class="fn">getUser</span> <span onmouseout="hideTip(event, 'fs9', 13)" onmouseover="showTip(event, 'fs9', 13)" class="id">email</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs10', 14)" onmouseover="showTip(event, 'fs10', 14)" class="uc">Reader</span><span class="pn">(</span><span class="k">fun</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs11', 15)" onmouseover="showTip(event, 'fs11', 15)" class="id">env</span> <span class="pn">:</span> <span class="pn">#</span><span onmouseout="hideTip(event, 'fs4', 16)" onmouseover="showTip(event, 'fs4', 16)" class="if">IUserRepository</span><span class="pn">)</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs11', 17)" onmouseover="showTip(event, 'fs11', 17)" class="fn">env</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs12', 18)" onmouseover="showTip(event, 'fs12', 18)" class="id">GetUser</span> <span onmouseout="hideTip(event, 'fs9', 19)" onmouseover="showTip(event, 'fs9', 19)" class="id">email</span><span class="pn">)</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs13', 20)" onmouseover="showTip(event, 'fs13', 20)" class="fn">addToShoppingList</span> <span onmouseout="hideTip(event, 'fs14', 21)" onmouseover="showTip(event, 'fs14', 21)" class="id">shoppingListItems</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs10', 22)" onmouseover="showTip(event, 'fs10', 22)" class="uc">Reader</span><span class="pn">(</span><span class="k">fun</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs15', 23)" onmouseover="showTip(event, 'fs15', 23)" class="id">env</span> <span class="pn">:</span> <span class="pn">#</span><span onmouseout="hideTip(event, 'fs6', 24)" onmouseover="showTip(event, 'fs6', 24)" class="if">IShoppingListRepository</span><span class="pn">)</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs15', 25)" onmouseover="showTip(event, 'fs15', 25)" class="fn">env</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs12', 26)" onmouseover="showTip(event, 'fs12', 26)" class="id">AddToCart</span> <span onmouseout="hideTip(event, 'fs14', 27)" onmouseover="showTip(event, 'fs14', 27)" class="id">shoppingListItems</span><span class="pn">)</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs16', 28)" onmouseover="showTip(event, 'fs16', 28)" class="fn">addShoppingListM</span> <span onmouseout="hideTip(event, 'fs9', 29)" onmouseover="showTip(event, 'fs9', 29)" class="id">email</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs17', 30)" onmouseover="showTip(event, 'fs17', 30)" class="id">monad</span> <span class="pn">{</span>
    <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs18', 31)" onmouseover="showTip(event, 'fs18', 31)" class="id">user</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs8', 32)" onmouseover="showTip(event, 'fs8', 32)" class="fn">getUser</span> <span onmouseout="hideTip(event, 'fs9', 33)" onmouseover="showTip(event, 'fs9', 33)" class="id">email</span>
    <span class="c">// </span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs14', 34)" onmouseover="showTip(event, 'fs14', 34)" class="id">shoppingListItems</span> <span class="o">=</span> <span class="pn">[</span><span class="s">&quot;Apple&quot;</span><span class="pn">;</span> <span class="s">&quot;Pear&quot;</span><span class="pn">;</span><span class="pn">]</span>
    <span class="k">return!</span> <span onmouseout="hideTip(event, 'fs13', 35)" onmouseover="showTip(event, 'fs13', 35)" class="fn">addToShoppingList</span> <span onmouseout="hideTip(event, 'fs14', 36)" onmouseover="showTip(event, 'fs14', 36)" class="id">shoppingListItems</span>
<span class="pn">}</span>

<span class="k">type</span> <span onmouseout="hideTip(event, 'fs19', 37)" onmouseover="showTip(event, 'fs19', 37)" class="rt">MockDataEnv</span><span class="pn">(</span><span class="pn">)</span> <span class="o">=</span> <span class="c">// This is how an environment could be constructed</span>
    <span class="k">interface</span> <span onmouseout="hideTip(event, 'fs4', 38)" onmouseover="showTip(event, 'fs4', 38)" class="if">IUserRepository</span> <span class="k">with</span>
        <span class="k">member</span> <span onmouseout="hideTip(event, 'fs20', 39)" onmouseover="showTip(event, 'fs20', 39)" class="id">this</span><span class="pn">.</span><span class="fn">GetUser</span> <span onmouseout="hideTip(event, 'fs9', 40)" onmouseover="showTip(event, 'fs9', 40)" class="id">email</span> <span class="o">=</span>
                <span class="s">&quot;Sandeep&quot;</span>
    <span class="k">interface</span> <span onmouseout="hideTip(event, 'fs6', 41)" onmouseover="showTip(event, 'fs6', 41)" class="if">IShoppingListRepository</span> <span class="k">with</span>
            <span class="k">member</span> <span onmouseout="hideTip(event, 'fs20', 42)" onmouseover="showTip(event, 'fs20', 42)" class="id">this</span><span class="pn">.</span><span class="fn">AddToCart</span> <span onmouseout="hideTip(event, 'fs14', 43)" onmouseover="showTip(event, 'fs14', 43)" class="id">shoppingListItems</span> <span class="o">=</span>
                <span onmouseout="hideTip(event, 'fs21', 44)" onmouseover="showTip(event, 'fs21', 44)" class="fn">sprintf</span> <span class="s">&quot;Added the following items </span><span class="pf">%A</span><span class="s"> to the cart&quot;</span> <span onmouseout="hideTip(event, 'fs14', 45)" onmouseover="showTip(event, 'fs14', 45)" class="id">shoppingListItems</span>

<span onmouseout="hideTip(event, 'fs10', 46)" onmouseover="showTip(event, 'fs10', 46)" class="m">Reader</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs22', 47)" onmouseover="showTip(event, 'fs22', 47)" class="id">run</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs16', 48)" onmouseover="showTip(event, 'fs16', 48)" class="fn">addShoppingListM</span> <span class="s">&quot;sandeep@test.com&quot;</span><span class="pn">)</span>  <span class="pn">(</span><span onmouseout="hideTip(event, 'fs19', 49)" onmouseover="showTip(event, 'fs19', 49)" class="rt">MockDataEnv</span><span class="pn">(</span><span class="pn">)</span><span class="pn">)</span>
</code></pre>
<p>Sample from <a href="https://wiki.haskell.org/All_About_Monads#The_Reader_monad">The Reader monad on Haskell Wiki</a></p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 50)" onmouseover="showTip(event, 'fs1', 50)" class="id">System</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs2', 51)" onmouseover="showTip(event, 'fs2', 51)" class="id">FSharpPlus</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs2', 52)" onmouseover="showTip(event, 'fs2', 52)" class="id">FSharpPlus</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs3', 53)" onmouseover="showTip(event, 'fs3', 53)" class="id">Data</span>

<span class="c">/// This the abstract syntax representation of a template</span>
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs23', 54)" onmouseover="showTip(event, 'fs23', 54)" class="rt">Template</span> <span class="o">=</span>
    <span class="c">/// Text</span>
    <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs24', 55)" onmouseover="showTip(event, 'fs24', 55)" class="uc">T</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs5', 56)" onmouseover="showTip(event, 'fs5', 56)" class="rt">string</span>
    <span class="c">/// Variable</span>
    <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs25', 57)" onmouseover="showTip(event, 'fs25', 57)" class="uc">V</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs23', 58)" onmouseover="showTip(event, 'fs23', 58)" class="rt">Template</span>
    <span class="c">/// Quote</span>
    <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs26', 59)" onmouseover="showTip(event, 'fs26', 59)" class="uc">Q</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs23', 60)" onmouseover="showTip(event, 'fs23', 60)" class="rt">Template</span>
    <span class="c">/// Include</span>
    <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs27', 61)" onmouseover="showTip(event, 'fs27', 61)" class="uc">I</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs23', 62)" onmouseover="showTip(event, 'fs23', 62)" class="rt">Template</span><span class="pn">*</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs28', 63)" onmouseover="showTip(event, 'fs28', 63)" class="rt">Definition</span> <span onmouseout="hideTip(event, 'fs7', 64)" onmouseover="showTip(event, 'fs7', 64)" class="rt">list</span><span class="pn">)</span>
    <span class="c">/// Compound</span>
    <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs29', 65)" onmouseover="showTip(event, 'fs29', 65)" class="uc">C</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs23', 66)" onmouseover="showTip(event, 'fs23', 66)" class="rt">Template</span> <span onmouseout="hideTip(event, 'fs7', 67)" onmouseover="showTip(event, 'fs7', 67)" class="rt">list</span>
<span class="k">and</span> <span onmouseout="hideTip(event, 'fs28', 68)" onmouseover="showTip(event, 'fs28', 68)" class="rt">Definition</span> <span class="o">=</span> <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs30', 69)" onmouseover="showTip(event, 'fs30', 69)" class="uc">D</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs23', 70)" onmouseover="showTip(event, 'fs23', 70)" class="rt">Template</span><span class="pn">*</span><span onmouseout="hideTip(event, 'fs23', 71)" onmouseover="showTip(event, 'fs23', 71)" class="rt">Template</span>

<span class="c">/// Our environment consists of an association list of named templates and</span>
<span class="c">/// an association list of named variable values.</span>
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs31', 72)" onmouseover="showTip(event, 'fs31', 72)" class="rt">Environment</span> <span class="o">=</span> <span class="pn">{</span><span onmouseout="hideTip(event, 'fs32', 73)" onmouseover="showTip(event, 'fs32', 73)" class="id">templates</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs33', 74)" onmouseover="showTip(event, 'fs33', 74)" class="rt">Map</span><span class="pn">&lt;</span><span onmouseout="hideTip(event, 'fs5', 75)" onmouseover="showTip(event, 'fs5', 75)" class="rt">string</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs23', 76)" onmouseover="showTip(event, 'fs23', 76)" class="rt">Template</span><span class="pn">&gt;</span>
                    <span onmouseout="hideTip(event, 'fs34', 77)" onmouseover="showTip(event, 'fs34', 77)" class="id">variables</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs33', 78)" onmouseover="showTip(event, 'fs33', 78)" class="rt">Map</span><span class="pn">&lt;</span><span onmouseout="hideTip(event, 'fs5', 79)" onmouseover="showTip(event, 'fs5', 79)" class="rt">string</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs5', 80)" onmouseover="showTip(event, 'fs5', 80)" class="rt">string</span><span class="pn">&gt;</span><span class="pn">}</span>

<span class="c">/// lookup a variable from the environment</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs35', 81)" onmouseover="showTip(event, 'fs35', 81)" class="fn">lookupVar</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs36', 82)" onmouseover="showTip(event, 'fs36', 82)" class="id">name</span><span class="pn">:</span><span onmouseout="hideTip(event, 'fs5', 83)" onmouseover="showTip(event, 'fs5', 83)" class="rt">string</span><span class="pn">)</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs37', 84)" onmouseover="showTip(event, 'fs37', 84)" class="id">env</span><span class="pn">:</span><span onmouseout="hideTip(event, 'fs31', 85)" onmouseover="showTip(event, 'fs31', 85)" class="rt">Environment</span><span class="pn">)</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs5', 86)" onmouseover="showTip(event, 'fs5', 86)" class="rt">string</span> <span onmouseout="hideTip(event, 'fs38', 87)" onmouseover="showTip(event, 'fs38', 87)" class="rt">option</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs39', 88)" onmouseover="showTip(event, 'fs39', 88)" class="fn">tryItem</span> <span onmouseout="hideTip(event, 'fs36', 89)" onmouseover="showTip(event, 'fs36', 89)" class="id">name</span> <span onmouseout="hideTip(event, 'fs37', 90)" onmouseover="showTip(event, 'fs37', 90)" class="id">env</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs12', 91)" onmouseover="showTip(event, 'fs12', 91)" class="id">variables</span>

<span class="c">/// lookup a template from the environment</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs40', 92)" onmouseover="showTip(event, 'fs40', 92)" class="fn">lookupTemplate</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs36', 93)" onmouseover="showTip(event, 'fs36', 93)" class="id">name</span><span class="pn">:</span><span onmouseout="hideTip(event, 'fs5', 94)" onmouseover="showTip(event, 'fs5', 94)" class="rt">string</span><span class="pn">)</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs37', 95)" onmouseover="showTip(event, 'fs37', 95)" class="id">env</span><span class="pn">:</span><span onmouseout="hideTip(event, 'fs31', 96)" onmouseover="showTip(event, 'fs31', 96)" class="rt">Environment</span><span class="pn">)</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs23', 97)" onmouseover="showTip(event, 'fs23', 97)" class="rt">Template</span> <span onmouseout="hideTip(event, 'fs38', 98)" onmouseover="showTip(event, 'fs38', 98)" class="rt">option</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs39', 99)" onmouseover="showTip(event, 'fs39', 99)" class="fn">tryItem</span> <span onmouseout="hideTip(event, 'fs36', 100)" onmouseover="showTip(event, 'fs36', 100)" class="id">name</span> <span onmouseout="hideTip(event, 'fs37', 101)" onmouseover="showTip(event, 'fs37', 101)" class="id">env</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs12', 102)" onmouseover="showTip(event, 'fs12', 102)" class="id">templates</span>

<span class="c">/// add a list of resolved definitions to the environment</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs41', 103)" onmouseover="showTip(event, 'fs41', 103)" class="fn">addDefs</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs42', 104)" onmouseover="showTip(event, 'fs42', 104)" class="id">defs</span><span class="pn">:</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs5', 105)" onmouseover="showTip(event, 'fs5', 105)" class="rt">string</span><span class="pn">*</span><span onmouseout="hideTip(event, 'fs5', 106)" onmouseover="showTip(event, 'fs5', 106)" class="rt">string</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs7', 107)" onmouseover="showTip(event, 'fs7', 107)" class="rt">list</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs37', 108)" onmouseover="showTip(event, 'fs37', 108)" class="id">env</span> <span class="o">=</span> <span class="pn">{</span> <span onmouseout="hideTip(event, 'fs37', 109)" onmouseover="showTip(event, 'fs37', 109)" class="id">env</span> <span class="k">with</span> <span class="id">variables</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs43', 110)" onmouseover="showTip(event, 'fs43', 110)" class="fn">plus</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs33', 111)" onmouseover="showTip(event, 'fs33', 111)" class="m">Map</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs44', 112)" onmouseover="showTip(event, 'fs44', 112)" class="id">ofList</span> <span onmouseout="hideTip(event, 'fs42', 113)" onmouseover="showTip(event, 'fs42', 113)" class="id">defs</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs37', 114)" onmouseover="showTip(event, 'fs37', 114)" class="id">env</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs12', 115)" onmouseover="showTip(event, 'fs12', 115)" class="id">variables</span><span class="pn">}</span>

<span class="c">/// resolve a template into a string</span>
<span class="k">let</span> <span class="k">rec</span> <span onmouseout="hideTip(event, 'fs45', 116)" onmouseover="showTip(event, 'fs45', 116)" class="fn">resolve</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs23', 117)" onmouseover="showTip(event, 'fs23', 117)" class="rt">Template</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs10', 118)" onmouseover="showTip(event, 'fs10', 118)" class="vt">Reader</span><span class="pn">&lt;</span><span onmouseout="hideTip(event, 'fs31', 119)" onmouseover="showTip(event, 'fs31', 119)" class="rt">Environment</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs5', 120)" onmouseover="showTip(event, 'fs5', 120)" class="rt">string</span><span class="pn">&gt;</span>  <span class="o">=</span> <span class="k">function</span> 
                       <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs24', 121)" onmouseover="showTip(event, 'fs24', 121)" class="uc">T</span> <span onmouseout="hideTip(event, 'fs46', 122)" onmouseover="showTip(event, 'fs46', 122)" class="id">s</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs47', 123)" onmouseover="showTip(event, 'fs47', 123)" class="fn">result</span> <span onmouseout="hideTip(event, 'fs46', 124)" onmouseover="showTip(event, 'fs46', 124)" class="id">s</span>
                       <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs25', 125)" onmouseover="showTip(event, 'fs25', 125)" class="uc">V</span> <span onmouseout="hideTip(event, 'fs48', 126)" onmouseover="showTip(event, 'fs48', 126)" class="id">t</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs17', 127)" onmouseover="showTip(event, 'fs17', 127)" class="id">monad</span> <span class="pn">{</span>
                                   <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs49', 128)" onmouseover="showTip(event, 'fs49', 128)" class="id">varName</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs45', 129)" onmouseover="showTip(event, 'fs45', 129)" class="fn">resolve</span> <span onmouseout="hideTip(event, 'fs48', 130)" onmouseover="showTip(event, 'fs48', 130)" class="id">t</span>
                                   <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs37', 131)" onmouseover="showTip(event, 'fs37', 131)" class="id">env</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs50', 132)" onmouseover="showTip(event, 'fs50', 132)" class="id">ask</span>
                                   <span class="k">let</span> <span onmouseout="hideTip(event, 'fs51', 133)" onmouseover="showTip(event, 'fs51', 133)" class="id">varValue</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs35', 134)" onmouseover="showTip(event, 'fs35', 134)" class="fn">lookupVar</span> <span onmouseout="hideTip(event, 'fs49', 135)" onmouseover="showTip(event, 'fs49', 135)" class="id">varName</span> <span onmouseout="hideTip(event, 'fs37', 136)" onmouseover="showTip(event, 'fs37', 136)" class="id">env</span>
                                   <span class="k">return</span> <span onmouseout="hideTip(event, 'fs38', 137)" onmouseover="showTip(event, 'fs38', 137)" class="fn">option</span> <span onmouseout="hideTip(event, 'fs52', 138)" onmouseover="showTip(event, 'fs52', 138)" class="fn">id</span> <span class="s">&quot;&quot;</span> <span onmouseout="hideTip(event, 'fs51', 139)" onmouseover="showTip(event, 'fs51', 139)" class="id">varValue</span> <span class="pn">}</span>
                        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs26', 140)" onmouseover="showTip(event, 'fs26', 140)" class="uc">Q</span> <span onmouseout="hideTip(event, 'fs48', 141)" onmouseover="showTip(event, 'fs48', 141)" class="id">t</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs17', 142)" onmouseover="showTip(event, 'fs17', 142)" class="id">monad</span> <span class="pn">{</span>
                                   <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs53', 143)" onmouseover="showTip(event, 'fs53', 143)" class="id">tmplName</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs45', 144)" onmouseover="showTip(event, 'fs45', 144)" class="fn">resolve</span> <span onmouseout="hideTip(event, 'fs48', 145)" onmouseover="showTip(event, 'fs48', 145)" class="id">t</span>
                                   <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs37', 146)" onmouseover="showTip(event, 'fs37', 146)" class="id">env</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs50', 147)" onmouseover="showTip(event, 'fs50', 147)" class="id">ask</span>
                                   <span class="k">let</span> <span onmouseout="hideTip(event, 'fs54', 148)" onmouseover="showTip(event, 'fs54', 148)" class="id">body</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs40', 149)" onmouseover="showTip(event, 'fs40', 149)" class="fn">lookupTemplate</span> <span onmouseout="hideTip(event, 'fs53', 150)" onmouseover="showTip(event, 'fs53', 150)" class="id">tmplName</span> <span onmouseout="hideTip(event, 'fs37', 151)" onmouseover="showTip(event, 'fs37', 151)" class="id">env</span>
                                   <span class="k">return</span> <span onmouseout="hideTip(event, 'fs38', 152)" onmouseover="showTip(event, 'fs38', 152)" class="fn">option</span> <span onmouseout="hideTip(event, 'fs5', 153)" onmouseover="showTip(event, 'fs5', 153)" class="fn">string</span> <span class="s">&quot;&quot;</span> <span onmouseout="hideTip(event, 'fs54', 154)" onmouseover="showTip(event, 'fs54', 154)" class="id">body</span> <span class="pn">}</span>
                        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs27', 155)" onmouseover="showTip(event, 'fs27', 155)" class="uc">I</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs48', 156)" onmouseover="showTip(event, 'fs48', 156)" class="id">t</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs55', 157)" onmouseover="showTip(event, 'fs55', 157)" class="id">ds</span><span class="pn">)</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs17', 158)" onmouseover="showTip(event, 'fs17', 158)" class="id">monad</span> <span class="pn">{</span>
                                    <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs53', 159)" onmouseover="showTip(event, 'fs53', 159)" class="id">tmplName</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs45', 160)" onmouseover="showTip(event, 'fs45', 160)" class="fn">resolve</span> <span onmouseout="hideTip(event, 'fs48', 161)" onmouseover="showTip(event, 'fs48', 161)" class="id">t</span>
                                    <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs37', 162)" onmouseover="showTip(event, 'fs37', 162)" class="id">env</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs50', 163)" onmouseover="showTip(event, 'fs50', 163)" class="id">ask</span>
                                    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs54', 164)" onmouseover="showTip(event, 'fs54', 164)" class="id">body</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs40', 165)" onmouseover="showTip(event, 'fs40', 165)" class="fn">lookupTemplate</span> <span onmouseout="hideTip(event, 'fs53', 166)" onmouseover="showTip(event, 'fs53', 166)" class="id">tmplName</span> <span onmouseout="hideTip(event, 'fs37', 167)" onmouseover="showTip(event, 'fs37', 167)" class="id">env</span>
                                    <span class="k">match</span> <span onmouseout="hideTip(event, 'fs54', 168)" onmouseover="showTip(event, 'fs54', 168)" class="id">body</span> <span class="k">with</span>
                                    <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs56', 169)" onmouseover="showTip(event, 'fs56', 169)" class="uc">Some</span> <span onmouseout="hideTip(event, 'fs57', 170)" onmouseover="showTip(event, 'fs57', 170)" class="id">t&#39;</span> <span class="k">-&gt;</span>
                                                <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs42', 171)" onmouseover="showTip(event, 'fs42', 171)" class="id">defs</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs58', 172)" onmouseover="showTip(event, 'fs58', 172)" class="m">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs59', 173)" onmouseover="showTip(event, 'fs59', 173)" class="id">traverse</span> <span onmouseout="hideTip(event, 'fs60', 174)" onmouseover="showTip(event, 'fs60', 174)" class="fn">resolveDef</span> <span onmouseout="hideTip(event, 'fs55', 175)" onmouseover="showTip(event, 'fs55', 175)" class="id">ds</span>
                                                <span class="k">return!</span> <span onmouseout="hideTip(event, 'fs61', 176)" onmouseover="showTip(event, 'fs61', 176)" class="fn">local</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs41', 177)" onmouseover="showTip(event, 'fs41', 177)" class="fn">addDefs</span> <span onmouseout="hideTip(event, 'fs42', 178)" onmouseover="showTip(event, 'fs42', 178)" class="id">defs</span><span class="pn">)</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs45', 179)" onmouseover="showTip(event, 'fs45', 179)" class="fn">resolve</span> <span onmouseout="hideTip(event, 'fs57', 180)" onmouseover="showTip(event, 'fs57', 180)" class="id">t&#39;</span><span class="pn">)</span>
                                    <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs62', 181)" onmouseover="showTip(event, 'fs62', 181)" class="uc">None</span> <span class="k">-&gt;</span> <span class="k">return</span> <span class="s">&quot;&quot;</span>
                                    <span class="pn">}</span>
                        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs29', 182)" onmouseover="showTip(event, 'fs29', 182)" class="uc">C</span> <span onmouseout="hideTip(event, 'fs63', 183)" onmouseover="showTip(event, 'fs63', 183)" class="id">ts</span>   <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs17', 184)" onmouseover="showTip(event, 'fs17', 184)" class="id">monad</span> <span class="pn">{</span>
                                      <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs64', 185)" onmouseover="showTip(event, 'fs64', 185)" class="id">resolved</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs58', 186)" onmouseover="showTip(event, 'fs58', 186)" class="m">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs59', 187)" onmouseover="showTip(event, 'fs59', 187)" class="id">traverse</span> <span onmouseout="hideTip(event, 'fs45', 188)" onmouseover="showTip(event, 'fs45', 188)" class="fn">resolve</span> <span onmouseout="hideTip(event, 'fs63', 189)" onmouseover="showTip(event, 'fs63', 189)" class="id">ts</span>
                                      <span class="k">return</span> <span onmouseout="hideTip(event, 'fs65', 190)" onmouseover="showTip(event, 'fs65', 190)" class="m">String</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs66', 191)" onmouseover="showTip(event, 'fs66', 191)" class="id">Concat</span><span class="pn">&lt;</span><span onmouseout="hideTip(event, 'fs5', 192)" onmouseover="showTip(event, 'fs5', 192)" class="rt">string</span><span class="pn">&gt;</span> <span onmouseout="hideTip(event, 'fs64', 193)" onmouseover="showTip(event, 'fs64', 193)" class="id">resolved</span>
                                    <span class="pn">}</span>
<span class="k">and</span>
   <span class="c">/// resolve a Definition and produce a (name,value) pair</span>
   <span onmouseout="hideTip(event, 'fs60', 194)" onmouseover="showTip(event, 'fs60', 194)" class="fn">resolveDef</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs28', 195)" onmouseover="showTip(event, 'fs28', 195)" class="rt">Definition</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs10', 196)" onmouseover="showTip(event, 'fs10', 196)" class="vt">Reader</span><span class="pn">&lt;</span><span onmouseout="hideTip(event, 'fs31', 197)" onmouseover="showTip(event, 'fs31', 197)" class="rt">Environment</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs5', 198)" onmouseover="showTip(event, 'fs5', 198)" class="rt">string</span><span class="pn">*</span><span onmouseout="hideTip(event, 'fs5', 199)" onmouseover="showTip(event, 'fs5', 199)" class="rt">string</span><span class="pn">&gt;</span> <span class="o">=</span> 
                                      <span class="k">function</span> 
                                      <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs30', 200)" onmouseover="showTip(event, 'fs30', 200)" class="uc">D</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs48', 201)" onmouseover="showTip(event, 'fs48', 201)" class="id">t</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs67', 202)" onmouseover="showTip(event, 'fs67', 202)" class="id">d</span><span class="pn">)</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs17', 203)" onmouseover="showTip(event, 'fs17', 203)" class="id">monad</span> <span class="pn">{</span>
                                        <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs36', 204)" onmouseover="showTip(event, 'fs36', 204)" class="id">name</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs45', 205)" onmouseover="showTip(event, 'fs45', 205)" class="fn">resolve</span> <span onmouseout="hideTip(event, 'fs48', 206)" onmouseover="showTip(event, 'fs48', 206)" class="id">t</span>
                                        <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs68', 207)" onmouseover="showTip(event, 'fs68', 207)" class="id">value</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs45', 208)" onmouseover="showTip(event, 'fs45', 208)" class="fn">resolve</span> <span onmouseout="hideTip(event, 'fs67', 209)" onmouseover="showTip(event, 'fs67', 209)" class="id">d</span>
                                        <span class="k">return</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs36', 210)" onmouseover="showTip(event, 'fs36', 210)" class="id">name</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs68', 211)" onmouseover="showTip(event, 'fs68', 211)" class="id">value</span><span class="pn">)</span> <span class="pn">}</span>
</code></pre>

            <div class="fsdocs-tip" id="fs1">namespace System</div>
<div class="fsdocs-tip" id="fs2">namespace FSharpPlus</div>
<div class="fsdocs-tip" id="fs3">namespace FSharpPlus.Data</div>
<div class="fsdocs-tip" id="fs4">type IUserRepository =<br />&#160;&#160;interface<br />&#160;&#160;&#160;&#160;abstract member GetUser : email:string -&gt; string<br />&#160;&#160;end</div>
<div class="fsdocs-tip" id="fs5">Multiple items<br />val string : value:&#39;T -&gt; string<br /><br />--------------------<br />type string = String</div>
<div class="fsdocs-tip" id="fs6">type IShoppingListRepository =<br />&#160;&#160;interface<br />&#160;&#160;&#160;&#160;abstract member AddToCart : shoppingList:string list -&gt; string<br />&#160;&#160;end</div>
<div class="fsdocs-tip" id="fs7">type &#39;T list = List&lt;&#39;T&gt;</div>
<div class="fsdocs-tip" id="fs8">val getUser : email:string -&gt; Reader&lt;#IUserRepository,string&gt;</div>
<div class="fsdocs-tip" id="fs9">val email : string</div>
<div class="fsdocs-tip" id="fs10">Multiple items<br />union case Reader.Reader: (&#39;r -&gt; &#39;t) -&gt; Reader&lt;&#39;r,&#39;t&gt;<br /><br />--------------------<br />module Reader<br /><br />from FSharpPlus.Data<br /><br />--------------------<br />[&lt;Struct&gt;]<br />type Reader&lt;&#39;r,&#39;t&gt; =<br />&#160;&#160;| Reader of (&#39;r -&gt; &#39;t)<br />&#160;&#160;&#160;&#160;static member Delay : body:(unit -&gt; Reader&lt;&#39;R,&#39;T&gt;) -&gt; Reader&lt;&#39;R,&#39;T&gt;<br />&#160;&#160;&#160;&#160;static member Extract : Reader&lt;&#39;Monoid,&#39;T&gt; -&gt; &#39;T (requires member Zero)<br />&#160;&#160;&#160;&#160;static member Return : x:&#39;T -&gt; Reader&lt;&#39;R,&#39;T&gt;<br />&#160;&#160;&#160;&#160;static member TryFinally : Reader&lt;&#39;a2,&#39;a3&gt; * f:(unit -&gt; unit) -&gt; Reader&lt;&#39;a2,&#39;a3&gt;<br />&#160;&#160;&#160;&#160;static member TryWith : Reader&lt;&#39;R,&#39;T&gt; * h:(exn -&gt; Reader&lt;&#39;R,&#39;T&gt;) -&gt; Reader&lt;&#39;R,&#39;T&gt;<br />&#160;&#160;&#160;&#160;static member Using : resource:&#39;a2 * f:(&#39;a2 -&gt; Reader&lt;&#39;R,&#39;T&gt;) -&gt; Reader&lt;&#39;R,&#39;T&gt; (requires &#39;a2 :&gt; IDisposable)<br />&#160;&#160;&#160;&#160;static member get_Ask : unit -&gt; Reader&lt;&#39;R,&#39;R&gt;<br />&#160;&#160;&#160;&#160;static member ( =&gt;&gt; ) : Reader&lt;&#39;Monoid,&#39;T&gt; * f:(Reader&lt;&#39;Monoid,&#39;T&gt; -&gt; &#39;U) -&gt; Reader&lt;&#39;Monoid,&#39;U&gt; (requires member ( + ))<br />&#160;&#160;&#160;&#160;static member ( &gt;&gt;= ) : x:Reader&lt;&#39;R,&#39;T&gt; * f:(&#39;T -&gt; Reader&lt;&#39;R,&#39;U&gt;) -&gt; Reader&lt;&#39;R,&#39;U&gt;<br />&#160;&#160;&#160;&#160;static member ( &lt;*&gt; ) : f:Reader&lt;&#39;R,(&#39;T -&gt; &#39;U)&gt; * x:Reader&lt;&#39;R,&#39;T&gt; -&gt; Reader&lt;&#39;R,&#39;U&gt;</div>
<div class="fsdocs-tip" id="fs11">val env : #IUserRepository</div>
<div class="fsdocs-tip" id="fs12"></div>
<div class="fsdocs-tip" id="fs13">val addToShoppingList : shoppingListItems:string list -&gt; Reader&lt;#IShoppingListRepository,string&gt;</div>
<div class="fsdocs-tip" id="fs14">val shoppingListItems : string list</div>
<div class="fsdocs-tip" id="fs15">val env : #IShoppingListRepository</div>
<div class="fsdocs-tip" id="fs16">val addShoppingListM : email:string -&gt; Reader&lt;&#39;a,string&gt; (requires &#39;a :&gt; IShoppingListRepository and &#39;a :&gt; IUserRepository)</div>
<div class="fsdocs-tip" id="fs17">val monad&lt;&#39;monad&lt;&#39;t&gt;&gt; : MonadFxBuilder&lt;&#39;monad&lt;&#39;t&gt;&gt;</div>
<div class="fsdocs-tip" id="fs18">val user : string</div>
<div class="fsdocs-tip" id="fs19">Multiple items<br />type MockDataEnv =<br />&#160;&#160;interface IShoppingListRepository<br />&#160;&#160;interface IUserRepository<br />&#160;&#160;new : unit -&gt; MockDataEnv<br /><br />--------------------<br />new : unit -&gt; MockDataEnv</div>
<div class="fsdocs-tip" id="fs20">val this : MockDataEnv</div>
<div class="fsdocs-tip" id="fs21">val sprintf : format:Printf.StringFormat&lt;&#39;T&gt; -&gt; &#39;T</div>
<div class="fsdocs-tip" id="fs22">val run : Reader&lt;&#39;R,&#39;T&gt; -&gt; (&#39;R -&gt; &#39;T)</div>
<div class="fsdocs-tip" id="fs23">type Template =<br />&#160;&#160;| T of string<br />&#160;&#160;| V of Template<br />&#160;&#160;| Q of Template<br />&#160;&#160;| I of Template * Definition list<br />&#160;&#160;| C of Template list<br /><em><br /><br />&#160;This the abstract syntax representation of a template</em></div>
<div class="fsdocs-tip" id="fs24">union case Template.T: string -&gt; Template<br /><em><br /><br />&#160;Text</em></div>
<div class="fsdocs-tip" id="fs25">union case Template.V: Template -&gt; Template<br /><em><br /><br />&#160;Variable</em></div>
<div class="fsdocs-tip" id="fs26">union case Template.Q: Template -&gt; Template<br /><em><br /><br />&#160;Quote</em></div>
<div class="fsdocs-tip" id="fs27">union case Template.I: Template * Definition list -&gt; Template<br /><em><br /><br />&#160;Include</em></div>
<div class="fsdocs-tip" id="fs28">type Definition = | D of Template * Template</div>
<div class="fsdocs-tip" id="fs29">union case Template.C: Template list -&gt; Template<br /><em><br /><br />&#160;Compound</em></div>
<div class="fsdocs-tip" id="fs30">union case Definition.D: Template * Template -&gt; Definition</div>
<div class="fsdocs-tip" id="fs31">type Environment =<br />&#160;&#160;{ templates: Map&lt;string,Template&gt;<br />&#160;&#160;&#160;&#160;variables: Map&lt;string,string&gt; }<br /><em><br /><br />&#160;Our environment consists of an association list of named templates and<br />&#160;an association list of named variable values.</em></div>
<div class="fsdocs-tip" id="fs32">Environment.templates: Map&lt;string,Template&gt;</div>
<div class="fsdocs-tip" id="fs33">Multiple items<br />module Map<br /><br />from FSharpPlus<br /><br />--------------------<br />module Map<br /><br />from Microsoft.FSharp.Collections<br /><br />--------------------<br />type Map&lt;&#39;Key,&#39;Value (requires comparison)&gt; =<br />&#160;&#160;interface IReadOnlyDictionary&lt;&#39;Key,&#39;Value&gt;<br />&#160;&#160;interface IReadOnlyCollection&lt;KeyValuePair&lt;&#39;Key,&#39;Value&gt;&gt;<br />&#160;&#160;interface IEnumerable<br />&#160;&#160;interface IComparable<br />&#160;&#160;interface IEnumerable&lt;KeyValuePair&lt;&#39;Key,&#39;Value&gt;&gt;<br />&#160;&#160;interface ICollection&lt;KeyValuePair&lt;&#39;Key,&#39;Value&gt;&gt;<br />&#160;&#160;interface IDictionary&lt;&#39;Key,&#39;Value&gt;<br />&#160;&#160;new : elements:seq&lt;&#39;Key * &#39;Value&gt; -&gt; Map&lt;&#39;Key,&#39;Value&gt;<br />&#160;&#160;member Add : key:&#39;Key * value:&#39;Value -&gt; Map&lt;&#39;Key,&#39;Value&gt;<br />&#160;&#160;member ContainsKey : key:&#39;Key -&gt; bool<br />&#160;&#160;...<br /><br />--------------------<br />new : elements:seq&lt;&#39;Key * &#39;Value&gt; -&gt; Map&lt;&#39;Key,&#39;Value&gt;</div>
<div class="fsdocs-tip" id="fs34">Environment.variables: Map&lt;string,string&gt;</div>
<div class="fsdocs-tip" id="fs35">val lookupVar : name:string -&gt; env:Environment -&gt; string option<br /><em><br /><br />&#160;lookup a variable from the environment</em></div>
<div class="fsdocs-tip" id="fs36">val name : string</div>
<div class="fsdocs-tip" id="fs37">val env : Environment</div>
<div class="fsdocs-tip" id="fs38">Multiple items<br />val option : f:(&#39;g -&gt; &#39;h) -&gt; n:&#39;h -&gt; _arg1:&#39;g option -&gt; &#39;h<br /><br />--------------------<br />type &#39;T option = Option&lt;&#39;T&gt;</div>
<div class="fsdocs-tip" id="fs39">val tryItem : n:&#39;K -&gt; source:&#39;Indexed&lt;&#39;T&gt; -&gt; &#39;T option (requires member TryItem)</div>
<div class="fsdocs-tip" id="fs40">val lookupTemplate : name:string -&gt; env:Environment -&gt; Template option<br /><em><br /><br />&#160;lookup a template from the environment</em></div>
<div class="fsdocs-tip" id="fs41">val addDefs : defs:(string * string) list -&gt; env:Environment -&gt; Environment<br /><em><br /><br />&#160;add a list of resolved definitions to the environment</em></div>
<div class="fsdocs-tip" id="fs42">val defs : (string * string) list</div>
<div class="fsdocs-tip" id="fs43">val plus : x:&#39;Monoid -&gt; y:&#39;Monoid -&gt; &#39;Monoid (requires member ( + ))</div>
<div class="fsdocs-tip" id="fs44">val ofList : elements:(&#39;Key * &#39;T) list -&gt; Map&lt;&#39;Key,&#39;T&gt; (requires comparison)</div>
<div class="fsdocs-tip" id="fs45">val resolve : _arg1:Template -&gt; Reader&lt;Environment,string&gt;<br /><em><br /><br />&#160;resolve a template into a string</em></div>
<div class="fsdocs-tip" id="fs46">val s : string</div>
<div class="fsdocs-tip" id="fs47">val result : x:&#39;T -&gt; &#39;Functor&lt;&#39;T&gt; (requires member Return)</div>
<div class="fsdocs-tip" id="fs48">val t : Template</div>
<div class="fsdocs-tip" id="fs49">val varName : string</div>
<div class="fsdocs-tip" id="fs50">val ask&lt;&#39;MonadReader&lt;&#39;R,&#39;T&gt; (requires member get_Ask)&gt; : &#39;MonadReader&lt;&#39;R,&#39;T&gt; (requires member get_Ask)</div>
<div class="fsdocs-tip" id="fs51">val varValue : string option</div>
<div class="fsdocs-tip" id="fs52">val id : x:&#39;T -&gt; &#39;T</div>
<div class="fsdocs-tip" id="fs53">val tmplName : string</div>
<div class="fsdocs-tip" id="fs54">val body : Template option</div>
<div class="fsdocs-tip" id="fs55">val ds : Definition list</div>
<div class="fsdocs-tip" id="fs56">union case Option.Some: Value: &#39;T -&gt; Option&lt;&#39;T&gt;</div>
<div class="fsdocs-tip" id="fs57">val t&#39; : Template</div>
<div class="fsdocs-tip" id="fs58">Multiple items<br />module List<br /><br />from FSharpPlus.Data<br /><br />--------------------<br />module List<br /><br />from FSharpPlus<br /><br />--------------------<br />module List<br /><br />from Microsoft.FSharp.Collections<br /><br />--------------------<br />type List&lt;&#39;T&gt; =<br />&#160;&#160;| ( [] )<br />&#160;&#160;| ( :: ) of Head: &#39;T * Tail: &#39;T list<br />&#160;&#160;&#160;&#160;interface IReadOnlyList&lt;&#39;T&gt;<br />&#160;&#160;&#160;&#160;interface IReadOnlyCollection&lt;&#39;T&gt;<br />&#160;&#160;&#160;&#160;interface IEnumerable<br />&#160;&#160;&#160;&#160;interface IEnumerable&lt;&#39;T&gt;<br />&#160;&#160;&#160;&#160;member GetSlice : startIndex:int option * endIndex:int option -&gt; &#39;T list<br />&#160;&#160;&#160;&#160;member Head : &#39;T<br />&#160;&#160;&#160;&#160;member IsEmpty : bool<br />&#160;&#160;&#160;&#160;member Item : index:int -&gt; &#39;T with get<br />&#160;&#160;&#160;&#160;member Length : int<br />&#160;&#160;&#160;&#160;member Tail : &#39;T list<br />&#160;&#160;&#160;&#160;...</div>
<div class="fsdocs-tip" id="fs59">val traverse : f:(&#39;T -&gt; &#39;Applicative&lt;&#39;U&gt;) -&gt; xs:&#39;T list -&gt; &#39;Applicative&lt;list&lt;&#39;U&gt;&gt; (requires member Map and member ( &lt;*&gt; ) and member Traverse and member Return)</div>
<div class="fsdocs-tip" id="fs60">val resolveDef : _arg10:Definition -&gt; Reader&lt;Environment,(string * string)&gt;<br /><em><br /><br />&#160;resolve a Definition and produce a (name,value) pair</em></div>
<div class="fsdocs-tip" id="fs61">val local : f:(&#39;R1 -&gt; &#39;R2) -&gt; m:&#39;MonadReader&lt;&#39;R2,&#39;T&gt; -&gt; &#39;MonadReader&lt;&#39;R1,&#39;T&gt; (requires member Local)</div>
<div class="fsdocs-tip" id="fs62">union case Option.None: Option&lt;&#39;T&gt;</div>
<div class="fsdocs-tip" id="fs63">val ts : Template list</div>
<div class="fsdocs-tip" id="fs64">val resolved : string list</div>
<div class="fsdocs-tip" id="fs65">Multiple items<br />type String =<br />&#160;&#160;new : value:char[] -&gt; string + 8 overloads<br />&#160;&#160;member Chars : int -&gt; char<br />&#160;&#160;member Clone : unit -&gt; obj<br />&#160;&#160;member CompareTo : value:obj -&gt; int + 1 overload<br />&#160;&#160;member Contains : value:string -&gt; bool + 3 overloads<br />&#160;&#160;member CopyTo : sourceIndex:int * destination:char[] * destinationIndex:int * count:int -&gt; unit<br />&#160;&#160;member EndsWith : value:string -&gt; bool + 3 overloads<br />&#160;&#160;member EnumerateRunes : unit -&gt; StringRuneEnumerator<br />&#160;&#160;member Equals : obj:obj -&gt; bool + 2 overloads<br />&#160;&#160;member GetEnumerator : unit -&gt; CharEnumerator<br />&#160;&#160;...<br /><br />--------------------<br />String(value: char []) : String<br />String(value: nativeptr&lt;char&gt;) : String<br />String(value: nativeptr&lt;sbyte&gt;) : String<br />String(value: ReadOnlySpan&lt;char&gt;) : String<br />String(c: char, count: int) : String<br />String(value: char [], startIndex: int, length: int) : String<br />String(value: nativeptr&lt;char&gt;, startIndex: int, length: int) : String<br />String(value: nativeptr&lt;sbyte&gt;, startIndex: int, length: int) : String<br />String(value: nativeptr&lt;sbyte&gt;, startIndex: int, length: int, enc: Text.Encoding) : String</div>
<div class="fsdocs-tip" id="fs66">String.Concat([&lt;ParamArray&gt;] values: string []) : string<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />String.Concat(values: Collections.Generic.IEnumerable&lt;string&gt;) : string<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />String.Concat&lt;&#39;T&gt;(values: Collections.Generic.IEnumerable&lt;&#39;T&gt;) : string<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />String.Concat([&lt;ParamArray&gt;] args: obj []) : string<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />String.Concat(arg0: obj) : string<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />String.Concat(str0: ReadOnlySpan&lt;char&gt;, str1: ReadOnlySpan&lt;char&gt;) : string<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />String.Concat(str0: string, str1: string) : string<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />String.Concat(arg0: obj, arg1: obj) : string<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />String.Concat(str0: ReadOnlySpan&lt;char&gt;, str1: ReadOnlySpan&lt;char&gt;, str2: ReadOnlySpan&lt;char&gt;) : string<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />String.Concat(str0: string, str1: string, str2: string) : string<br />&#160;&#160;&#160;<em>(+0 other overloads)</em></div>
<div class="fsdocs-tip" id="fs67">val d : Template</div>
<div class="fsdocs-tip" id="fs68">val value : string</div>

        </div>

        <!-- BEGIN SEARCH BOX: this adds support for the search box -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/JavaScript-autoComplete/1.0.4/auto-complete.css" />
        <script type="text/javascript">var fsdocs_search_baseurl = '/FSharpPlus/'</script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.3.8/lunr.min.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/JavaScript-autoComplete/1.0.4/auto-complete.min.js"></script>
        <script type="text/javascript" src="/FSharpPlus/content/fsdocs-search.js"></script>
        <!-- END SEARCH BOX: this adds support for the search box -->
    </div>
</body>

</html>
